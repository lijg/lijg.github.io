
<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>LJGABC</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="嵌入式">
<meta property="og:type" content="website">
<meta property="og:title" content="LJGABC">
<meta property="og:url" content="http://ljgabc.com/page/13/index.html">
<meta property="og:site_name" content="LJGABC">
<meta property="og:description" content="嵌入式">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="LJGABC">
<meta name="twitter:description" content="嵌入式">
  
    <link rel="alternative" href="/atom.xml" title="LJGABC" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  <link rel="stylesheet" href="/css/style.css">
  <!--[if lt IE 9]><script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7/html5shiv.min.js"></script><![endif]-->
  
</head>
<body>
<div id="container">
  <div id="wrap">
    <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">LJGABC</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">嵌入式全栈工程师</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
          <a class="main-nav-link" href="/about">About</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="http://www.baidu.com/baidu" method="get" accept-charset="utf-8" class="search-form">
          <input type="search" name="word" maxlength="20" class="search-form-input" placeholder="Search">
          <input type="submit" value="" class="search-form-submit">
          <input name=tn type=hidden value="bds">
          <input name=cl type=hidden value="3">
          <input name=ct type=hidden value="2097152">
          <input type="hidden" name="si" value="ljgabc.com">
        </form>
      </div>
    </div>
  </div>
</header>
    <div class="outer">
      <section id="main">
  
    <article id="post-2015-05-19-Android下配置以太网IP地址" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2015/05/19/2015-05-19-Android下配置以太网IP地址/" class="article-date">
  <time datetime="2015-05-19T10:55:35.000Z" itemprop="datePublished">2015-05-19</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Android/">Android</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/05/19/2015-05-19-Android下配置以太网IP地址/">Android下配置以太网IP地址</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>需要在命令行下配置，并取得root权限。</p>
<h1 id="1-IP-ADDR"><a href="#1-IP-ADDR" class="headerlink" title="1 IP ADDR"></a>1 IP ADDR</h1><h2 id="1-1-DHCP"><a href="#1-1-DHCP" class="headerlink" title="1.1 DHCP"></a>1.1 DHCP</h2><p>使用以下命令配置<code>eth0</code>使用<code>dhcp</code>：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">ifconfig eth0 up</div><div class="line">netcfg eth0 dhcp</div></pre></td></tr></table></figure></p>
<h2 id="1-2-STATIC-IP"><a href="#1-2-STATIC-IP" class="headerlink" title="1.2 STATIC IP"></a>1.2 STATIC IP</h2><p>使用以下命令设置一个静态IP和一个子网掩码：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">ifconfig eth0 [YOUR_IP_ADDRESS] netmask [NETMASK] up</div></pre></td></tr></table></figure></p>
<p>然后使用以下命令配置网关：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">ip route add default via [GATEWAY_IP] dev eth0</div></pre></td></tr></table></figure></p>
<h1 id="2-DNS"><a href="#2-DNS" class="headerlink" title="2 DNS"></a>2 DNS</h1><p>DNS使用通过Android环境属性配置的，而不是resolv.conf文件。配置命令是：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">setprop net.dns1 [DNS_IP_ADDRESS1]</div><div class="line">setprop net.dns2 [DNS_IP_ADDRESS2]</div></pre></td></tr></table></figure></p>

      
    </div>
    <footer class="article-footer">
      
        <a data-url="http://ljgabc.com/2015/05/19/2015-05-19-Android下配置以太网IP地址/" data-id="ciwaargt00063zt3lxg1f9yvv" class="article-share-link" data-share="baidu">分享到</a>
      

      
        <a href="http://ljgabc.com/2015/05/19/2015-05-19-Android下配置以太网IP地址/#ds-thread" class="article-comment-link">评论</a>
      

      
    </footer>
  </div>
  
</article>


  
    <article id="post-2015-05-16-Python串口通信" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2015/05/16/2015-05-16-Python串口通信/" class="article-date">
  <time datetime="2015-05-16T14:20:12.000Z" itemprop="datePublished">2015-05-16</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Linux/">Linux</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/05/16/2015-05-16-Python串口通信/">Python串口通信</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>Python下进行串口通信要用到<a href="http://pyserial.sourceforge.net/" target="_blank" rel="external">pySerial</a>。</p>
<blockquote>
<p>This module encapsulates the access for the serial port. It provides backends for Python running on Windows, Linux, BSD (possibly any POSIX compliant system), Jython and IronPython (.NET and Mono). The module named “serial” automatically selects the appropriate backend.</p>
<p>这个模块封装了串口操作。支持Windows、LinuxBSD（其他POSIX兼容系统）、Jython和IronPython(.NET及Mono)等。</p>
</blockquote>
<p>##特性</p>
<ul>
<li>所有平台上统一的接口</li>
<li>通过Python属性即可配置端口</li>
<li>支持不通的字长、停止位、校验位和基于RTSD/CTS及(或)Xon/Xoff的流控</li>
<li>支持读取超时</li>
<li>类文件读写API，常见的read、write等接口（也支持readline等）</li>
<li>100% Python实现</li>
<li>使用二进制模式传输，没有<code>NULL</code>字符及<code>CR-LF</code>等，从而兼容<code>io</code>库。<br>*</li>
</ul>
<p>##需求</p>
<ul>
<li>Python &gt;= 2.3</li>
<li>Windows平台下需要ctypes支持(从Python 2.5开始是标准库的一部分)</li>
<li>Java/Jython上的 “Java Communications” (JavaComm)或者兼容包</li>
</ul>
<p>##使用方法</p>
<p>####1 打开串口0，模式:“9600,8,N,1”, 无超时:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">&gt;&gt;&gt; import serial</div><div class="line">&gt;&gt;&gt; ser = serial.Serial(0)  # 打开串口0</div><div class="line">&gt;&gt;&gt; print ser.name          # check which port was really used</div><div class="line">&gt;&gt;&gt; ser.write(&quot;hello&quot;)      # 写字符串</div><div class="line">&gt;&gt;&gt; ser.close()             # 关闭串口</div></pre></td></tr></table></figure></p>
<p>####2 打开特定的串口，模式：“19200,8,N,1”, 超时：1s:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">&gt;&gt;&gt; ser = serial.Serial(&apos;/dev/ttyS1&apos;, 19200, timeout=1)</div><div class="line">&gt;&gt;&gt; x = ser.read()          # 读一个字节</div><div class="line">&gt;&gt;&gt; s = ser.read(10)        # 读10个字节</div><div class="line">&gt;&gt;&gt; line = ser.readline()   # 读一行</div><div class="line">&gt;&gt;&gt; ser.close()</div></pre></td></tr></table></figure></p>
<p>####4 打开串口1，模式：“38400,8,E,1”, non blocking HW handshaking:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">&gt;&gt;&gt; ser = serial.Serial(1, 38400, timeout=0, parity=serial.PARITY_EVEN, rtscts=1)</div><div class="line">&gt;&gt;&gt; s = ser.read(100)       # read up to one hundred bytes or as much is in the buffer</div></pre></td></tr></table></figure></p>
<p>####5 配置串口<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">&gt;&gt;&gt; ser = serial.Serial()</div><div class="line">&gt;&gt;&gt; ser.baudrate = 19200</div><div class="line">&gt;&gt;&gt; ser.port = 0</div><div class="line">&gt;&gt;&gt; ser</div><div class="line">Serial&lt;id=0xa81c10, open=False&gt;(port=&apos;COM1&apos;, baudrate=19200, bytesize=8, parity=&apos;N&apos;, stopbits=1, timeout=None, xonxoff=0, rtscts=0)</div><div class="line">&gt;&gt;&gt; ser.open()</div><div class="line">&gt;&gt;&gt; ser.isOpen()</div><div class="line">True</div><div class="line">&gt;&gt;&gt; ser.close()</div><div class="line">&gt;&gt;&gt; ser.isOpen()</div><div class="line">False</div></pre></td></tr></table></figure></p>
<p>####6 可用方法<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">open()                  # 打开端口</div><div class="line">close()                 # 立即关闭端口  </div><div class="line">setBaudrate(baudrate)   # change baud rate on an open port  </div><div class="line">inWaiting()             # return the number of chars in the receive buffer  </div><div class="line">read(size=1)            # read &quot;size&quot; characters  </div><div class="line">write(s)                # 把字符串s写到该端口  </div><div class="line">flushInput()            # 清除输入缓存区，放弃所有内容</div><div class="line">flushOutput()           # 清除输出缓冲区，放弃输出  </div><div class="line">sendBreak()             # 发送中断条件  </div><div class="line">setRTS(level=1)         # set RTS line to specified logic level  </div><div class="line">setDTR(level=1)         # set DTR line to specified logic level  </div><div class="line">getCTS()                # return the state of the CTS line  </div><div class="line">getDSR()                # return the state of the DSR line  </div><div class="line">getRI()                 # return the state of the RI line  </div><div class="line">getCD()                 # return the state of the CD line</div></pre></td></tr></table></figure></p>
<p>####7 属性<br><strong>只读</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">portstr                 # 设备名称  </div><div class="line">BAUDRATES               # list of valid baudrates  </div><div class="line">BYTESIZES               # list of valid byte sizes  </div><div class="line">PARITIES                # list of valid parities  </div><div class="line">STOPBITS                # list of valid stop bit widths</div></pre></td></tr></table></figure></p>
<p><strong>下面属性值被更改后端口会重新配置，即使端口已经打开</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">port                    # port name/number as set by the user  </div><div class="line">baudrate                # current baud rate setting  </div><div class="line">bytesize                # byte size in bits  </div><div class="line">parity                  # parity setting  </div><div class="line">stopbits                # stop bit with (1,2)  </div><div class="line">timeout                 # timeout setting  </div><div class="line">xonxoff                 # if Xon/Xoff flow control is enabled  </div><div class="line">rtscts                  # if hardware flow control is enabled</div></pre></td></tr></table></figure></p>
<p>####8 异常<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">serial.SerialException</div></pre></td></tr></table></figure></p>
<p>####9 常量<br><strong>校验</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">serial.PARITY_NONE  </div><div class="line">serial.PARITY_EVEN  </div><div class="line">serial.PARITY_ODD</div></pre></td></tr></table></figure></p>
<p><strong>停止位</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">serial.STOPBITS_ONE  </div><div class="line">serial.STOPBITS_TWO</div></pre></td></tr></table></figure></p>
<p><strong>字长</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">serial.FIVEBITS  </div><div class="line">serial.SIXBITS  </div><div class="line">serial.SEVENBITS  </div><div class="line">serial.EIGHTBITS</div></pre></td></tr></table></figure></p>

      
    </div>
    <footer class="article-footer">
      
        <a data-url="http://ljgabc.com/2015/05/16/2015-05-16-Python串口通信/" data-id="ciwaargss005xzt3l7emwpqat" class="article-share-link" data-share="baidu">分享到</a>
      

      
        <a href="http://ljgabc.com/2015/05/16/2015-05-16-Python串口通信/#ds-thread" class="article-comment-link">评论</a>
      

      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Python/">Python</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/嵌入式/">嵌入式</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-2015-05-16-设置PCIE配置空间寄存器" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2015/05/16/2015-05-16-设置PCIE配置空间寄存器/" class="article-date">
  <time datetime="2015-05-16T10:20:56.000Z" itemprop="datePublished">2015-05-16</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Linux/">Linux</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/05/16/2015-05-16-设置PCIE配置空间寄存器/">设置PCIE配置空间寄存器</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>###1 查看</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">lspci                    # 查看简要描述信息</div><div class="line">lspci -s mm:mm.m         # 查看特定设备的信息(m代表PCIE节点信息)</div><div class="line">lspci -s mm:mm.m -xxx    # 以16进制查看特定PCI设备配置空间前64Byte的信息</div></pre></td></tr></table></figure>
<p><strong>例子</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line">lijg@ubuntudesktop:~$ sudo lspci -s 03:00.0 -xxx</div><div class="line">03:00.0 Ethernet controller: Realtek Semiconductor Co., Ltd. RTL8111/8168/8411 PCI Express Gigabit Ethernet Controller (rev 06)</div><div class="line">00: ec 10 68 81 07 04 10 00 06 00 00 02 10 00 00 00</div><div class="line">10: 01 d0 00 00 00 00 00 00 0c 40 00 f0 00 00 00 00</div><div class="line">20: 0c 00 00 f0 00 00 00 00 00 00 00 00 58 14 00 e0</div><div class="line">30: 00 00 00 00 40 00 00 00 00 00 00 00 0b 01 00 00</div><div class="line">40: 01 50 c3 ff 08 00 00 00 00 00 00 00 00 00 00 00</div><div class="line">50: 05 70 81 00 0c 10 e0 fe 00 00 00 00 71 41 00 00</div><div class="line">60: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00</div><div class="line">70: 10 b0 02 02 c0 8c 90 05 00 50 10 00 11 7c 07 00</div><div class="line">80: 40 00 11 10 00 00 00 00 00 00 00 00 00 00 00 00</div><div class="line">90: 00 00 00 00 1f 00 00 00 00 00 00 00 00 00 00 00</div><div class="line">a0: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00</div><div class="line">b0: 11 d0 03 00 04 00 00 00 04 08 00 00 00 00 00 00</div><div class="line">c0: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00</div><div class="line">d0: 03 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00</div><div class="line">e0: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00</div><div class="line">f0: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00</div></pre></td></tr></table></figure></p>
<p>###2 设置<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">setpci    # 设置PCIE配置寄存器</div></pre></td></tr></table></figure></p>
<p>写PCI配置寄存器时，使用<code>地址.位宽=值</code>的语法设置，如<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">setpci -s 03:00.0 62.B=05   # 配置0x62地址的字节的值为0x05</div><div class="line">setpci -s 03:00.0 62.W=0500 # 配置0x62地址的半字的值为0x0500,等效于，</div><div class="line"></div><div class="line">setpci -s 03:00.0 62.B=00</div><div class="line">setpci -s 03:00.0 63.B=05</div></pre></td></tr></table></figure></p>

      
    </div>
    <footer class="article-footer">
      
        <a data-url="http://ljgabc.com/2015/05/16/2015-05-16-设置PCIE配置空间寄存器/" data-id="ciwaargt20066zt3l4txuaukl" class="article-share-link" data-share="baidu">分享到</a>
      

      
        <a href="http://ljgabc.com/2015/05/16/2015-05-16-设置PCIE配置空间寄存器/#ds-thread" class="article-comment-link">评论</a>
      

      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/PCIE/">PCIE</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-2015-05-10-交叉编译glibc-2-19" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2015/05/10/2015-05-10-交叉编译glibc-2-19/" class="article-date">
  <time datetime="2015-05-10T13:50:49.000Z" itemprop="datePublished">2015-05-10</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Linux/">Linux</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/05/10/2015-05-10-交叉编译glibc-2-19/">交叉编译glibc-2.19</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>glibc编译时必须手动指定优化级别，比如<code>-O2</code>等。<br>```<br>export CFLAGS=”-O2 -U_FORTIFY_SOURCE”<br>export CXXFLAGS=${CFLAGS}<br>libc_cv_ssp=no BUILD_CC=”gcc” CC=”arm-linux-gnueabi-gcc” AR=”arm-linux-gnueabi-ar” RANLIB=”arm-linux-gnueabi-ranlib” ../glibc-2.19/configure –prefix=/usr –host=$HOST –build=$BUILD –disable-profile –enable-kernel=2.6.32 –enable-obsolete-rpc<br>make -j5<br>make DESTDIR=$ROOTFS install</p>

      
    </div>
    <footer class="article-footer">
      
        <a data-url="http://ljgabc.com/2015/05/10/2015-05-10-交叉编译glibc-2-19/" data-id="ciwaargsr005uzt3ly9iul8wm" class="article-share-link" data-share="baidu">分享到</a>
      

      
        <a href="http://ljgabc.com/2015/05/10/2015-05-10-交叉编译glibc-2-19/#ds-thread" class="article-comment-link">评论</a>
      

      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/嵌入式/">嵌入式</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-2015-05-09-交叉编译GCC-4-8-4" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2015/05/09/2015-05-09-交叉编译GCC-4-8-4/" class="article-date">
  <time datetime="2015-05-09T10:52:07.000Z" itemprop="datePublished">2015-05-09</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Linux/">Linux</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/05/09/2015-05-09-交叉编译GCC-4-8-4/">交叉编译GCC-4.8.4</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h4 id="编译步骤"><a href="#编译步骤" class="headerlink" title="编译步骤"></a>编译步骤</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">./configure --prefix=/usr --build=x86_64-linux-gnu --host=arm-linux-gnueabi --target=arm-linux-gnueabi --disable-multilib --disable-nls --enable-languages=c,c++ --disable-libstdcxx-pch --disable-libssp --enable-checking=release --enable-libstdcxx-time --with-gmp=$ROOTFS/usr --with-mpfr=$ROOTFS/usr --with-cloog=$ROOTFS/usr --with-mpc=$ROOTFS/usr --with-zlib=$ROOTFS/usr</div><div class="line"></div><div class="line">make </div><div class="line"></div><div class="line">make install</div></pre></td></tr></table></figure>
<h3 id="问题"><a href="#问题" class="headerlink" title="问题"></a>问题</h3><p>在第二步<code>make</code>时会报错<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">checking for type equivalent to int8_t... configure: error: no 8-bit type, please report a bug</div></pre></td></tr></table></figure></p>
<p>原因是<code>libatomic</code>的<code>configure</code>文件中设置的<code>CFLAGS</code>有问题，打开<code>libatomic/configure</code>，找到以下地方：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">11401 # Disable fallbacks to __sync routines from libgcc.  Otherwise we&apos;ll</div><div class="line">11402 # make silly decisions about what the cpu can do.</div><div class="line">11403 CFLAGS=&quot;$save_CFLAGS -fno-sync-libcalls $XCFLAGS&quot;</div></pre></td></tr></table></figure></p>
<p>改为</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">11401 # Disable fallbacks to __sync routines from libgcc.  Otherwise we&apos;ll</div><div class="line">11402 # make silly decisions about what the cpu can do.</div><div class="line">11403 CFLAGS=&quot;$save_CFLAGS $XCFLAGS&quot;</div></pre></td></tr></table></figure>
<p>重新<code>make</code>即可.</p>

      
    </div>
    <footer class="article-footer">
      
        <a data-url="http://ljgabc.com/2015/05/09/2015-05-09-交叉编译GCC-4-8-4/" data-id="ciwaargsp005rzt3lw9hvxmvf" class="article-share-link" data-share="baidu">分享到</a>
      

      
        <a href="http://ljgabc.com/2015/05/09/2015-05-09-交叉编译GCC-4-8-4/#ds-thread" class="article-comment-link">评论</a>
      

      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/嵌入式/">嵌入式</a></li></ul>

    </footer>
  </div>
  
</article>


  
  
    <nav id="page-nav">
      <a class="extend prev" rel="prev" href="/page/12/">&laquo; Prev</a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/11/">11</a><a class="page-number" href="/page/12/">12</a><span class="page-number current">13</span><a class="page-number" href="/page/14/">14</a><a class="page-number" href="/page/15/">15</a><span class="space">&hellip;</span><a class="page-number" href="/page/27/">27</a><a class="extend next" rel="next" href="/page/14/">Next &raquo;</a>
    </nav>
  
</section>
      
      <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">近期文章</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2016/12/04/2016-12-04-做一碗好吃的蒸面/">做一碗好吃的蒸面</a>
          </li>
        
          <li>
            <a href="/2016/11/23/2016-11-23-使用Django和Blueimp-Gallery制作照片墙/">使用Django和Blueimp Gallery制作照片墙</a>
          </li>
        
          <li>
            <a href="/2016/11/22/2016-11-22-Django学习笔记/">Django学习笔记</a>
          </li>
        
          <li>
            <a href="/2016/11/21/2016-11-21-日出/">日出</a>
          </li>
        
          <li>
            <a href="/2016/11/20/2016-11-20-莲花山公园/">莲花山公园</a>
          </li>
        
      </ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">分类</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/ASIC/">ASIC</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Android/">Android</a><span class="category-list-count">15</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Linux/">Linux</a><span class="category-list-count">49</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/摄影/">摄影</a><span class="category-list-count">23</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/杂/">杂</a><span class="category-list-count">27</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/硬件/">硬件</a><span class="category-list-count">9</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/软件/">软件</a><span class="category-list-count">8</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">标签云</h3>
    <div class="widget tagcloud">
      <a href="/tags/BusyBox/" style="font-size: 10px;">BusyBox</a> <a href="/tags/CSS/" style="font-size: 10px;">CSS</a> <a href="/tags/Catmul/" style="font-size: 10px;">Catmul</a> <a href="/tags/Centos/" style="font-size: 12.86px;">Centos</a> <a href="/tags/Debian/" style="font-size: 10px;">Debian</a> <a href="/tags/Device-Tree/" style="font-size: 10px;">Device Tree</a> <a href="/tags/Django/" style="font-size: 11.43px;">Django</a> <a href="/tags/Docker/" style="font-size: 12.86px;">Docker</a> <a href="/tags/DraftSight/" style="font-size: 10px;">DraftSight</a> <a href="/tags/EC/" style="font-size: 10px;">EC</a> <a href="/tags/Flask/" style="font-size: 11.43px;">Flask</a> <a href="/tags/GLES/" style="font-size: 10px;">GLES</a> <a href="/tags/GPU/" style="font-size: 10px;">GPU</a> <a href="/tags/Git/" style="font-size: 12.86px;">Git</a> <a href="/tags/HHVM/" style="font-size: 10px;">HHVM</a> <a href="/tags/I2C/" style="font-size: 10px;">I2C</a> <a href="/tags/LVM/" style="font-size: 11.43px;">LVM</a> <a href="/tags/MQTT/" style="font-size: 10px;">MQTT</a> <a href="/tags/Makefile/" style="font-size: 10px;">Makefile</a> <a href="/tags/NFS/" style="font-size: 10px;">NFS</a> <a href="/tags/Nginx/" style="font-size: 10px;">Nginx</a> <a href="/tags/OpenGL/" style="font-size: 10px;">OpenGL</a> <a href="/tags/OpenMP/" style="font-size: 10px;">OpenMP</a> <a href="/tags/Oprofile/" style="font-size: 12.86px;">Oprofile</a> <a href="/tags/PCB/" style="font-size: 10px;">PCB</a> <a href="/tags/PCIE/" style="font-size: 11.43px;">PCIE</a> <a href="/tags/PPTP/" style="font-size: 10px;">PPTP</a> <a href="/tags/Python/" style="font-size: 20px;">Python</a> <a href="/tags/RTT/" style="font-size: 10px;">RTT</a> <a href="/tags/Recovery/" style="font-size: 10px;">Recovery</a> <a href="/tags/SVN/" style="font-size: 11.43px;">SVN</a> <a href="/tags/ShadowSocks/" style="font-size: 10px;">ShadowSocks</a> <a href="/tags/Typecho/" style="font-size: 10px;">Typecho</a> <a href="/tags/USB/" style="font-size: 11.43px;">USB</a> <a href="/tags/VIM/" style="font-size: 10px;">VIM</a> <a href="/tags/Verification/" style="font-size: 10px;">Verification</a> <a href="/tags/busybox/" style="font-size: 10px;">busybox</a> <a href="/tags/dropbear/" style="font-size: 10px;">dropbear</a> <a href="/tags/gprof/" style="font-size: 10px;">gprof</a> <a href="/tags/i-MX6/" style="font-size: 10px;">i.MX6</a> <a href="/tags/ndk/" style="font-size: 10px;">ndk</a> <a href="/tags/nodejs/" style="font-size: 10px;">nodejs</a> <a href="/tags/scp/" style="font-size: 10px;">scp</a> <a href="/tags/uboot/" style="font-size: 10px;">uboot</a> <a href="/tags/uwsgi/" style="font-size: 10px;">uwsgi</a> <a href="/tags/vim/" style="font-size: 10px;">vim</a> <a href="/tags/xterm/" style="font-size: 10px;">xterm</a> <a href="/tags/休眠/" style="font-size: 10px;">休眠</a> <a href="/tags/内核/" style="font-size: 10px;">内核</a> <a href="/tags/吃/" style="font-size: 10px;">吃</a> <a href="/tags/导航条/" style="font-size: 10px;">导航条</a> <a href="/tags/嵌入式/" style="font-size: 17.14px;">嵌入式</a> <a href="/tags/布局/" style="font-size: 10px;">布局</a> <a href="/tags/广播/" style="font-size: 10px;">广播</a> <a href="/tags/性能/" style="font-size: 11.43px;">性能</a> <a href="/tags/插值/" style="font-size: 10px;">插值</a> <a href="/tags/摄影/" style="font-size: 15.71px;">摄影</a> <a href="/tags/敏捷/" style="font-size: 11.43px;">敏捷</a> <a href="/tags/旅游/" style="font-size: 10px;">旅游</a> <a href="/tags/旅行/" style="font-size: 14.29px;">旅行</a> <a href="/tags/树莓派/" style="font-size: 14.29px;">树莓派</a> <a href="/tags/浪涌/" style="font-size: 10px;">浪涌</a> <a href="/tags/纹理/" style="font-size: 10px;">纹理</a> <a href="/tags/美食/" style="font-size: 10px;">美食</a> <a href="/tags/蓝牙/" style="font-size: 10px;">蓝牙</a> <a href="/tags/街拍/" style="font-size: 12.86px;">街拍</a> <a href="/tags/设备树/" style="font-size: 10px;">设备树</a> <a href="/tags/设计模式/" style="font-size: 18.57px;">设计模式</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">归档</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/12/">十二月 2016</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/11/">十一月 2016</a><span class="archive-list-count">7</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/10/">十月 2016</a><span class="archive-list-count">8</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/09/">九月 2016</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/07/">七月 2016</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/06/">六月 2016</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/05/">五月 2016</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/04/">四月 2016</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/03/">三月 2016</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/02/">二月 2016</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/01/">一月 2016</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/12/">十二月 2015</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/11/">十一月 2015</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/10/">十月 2015</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/09/">九月 2015</a><span class="archive-list-count">10</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/08/">八月 2015</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/07/">七月 2015</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/06/">六月 2015</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/05/">五月 2015</a><span class="archive-list-count">11</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/04/">四月 2015</a><span class="archive-list-count">10</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/03/">三月 2015</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/02/">二月 2015</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/01/">一月 2015</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/12/">十二月 2014</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/11/">十一月 2014</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/07/">七月 2014</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/03/">三月 2014</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/02/">二月 2014</a><span class="archive-list-count">7</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/01/">一月 2014</a><span class="archive-list-count">7</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/12/">十二月 2013</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/11/">十一月 2013</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/10/">十月 2013</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/09/">九月 2013</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/08/">八月 2013</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/06/">六月 2013</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/04/">四月 2013</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/03/">三月 2013</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2012/10/">十月 2012</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2012/08/">八月 2012</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2012/03/">三月 2012</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2011/10/">十月 2011</a><span class="archive-list-count">1</span></li></ul>
    </div>
  </div>

  
</aside>
      
    </div>
    <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2016 John Lee<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
      .
      Theme by <a href="https://github.com/xiangming/landscape-plus" target="_blank">Landscape-plus</a>
    </div>
  </div>
</footer>
  </div>
  <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
    <a href="/about" class="mobile-nav-link">About</a>
  
</nav>
  <!-- totop start -->
<div id="totop">
<a title="返回顶部"><img src="/img/scrollup.png"/></a>
</div>

<!-- totop end -->

<!-- 多说公共js代码 start -->
<script type="text/javascript">
var duoshuoQuery = {short_name:"lijg"};
  (function() {
    var ds = document.createElement('script');
    ds.type = 'text/javascript';ds.async = true;
    ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
    ds.charset = 'UTF-8';
    (document.getElementsByTagName('head')[0]
     || document.getElementsByTagName('body')[0]).appendChild(ds);
  })();
  </script>
<!-- 多说公共js代码 end -->


<!-- 百度分享 start -->

<div id="article-share-box" class="article-share-box">
  <div id="bdshare" class="bdsharebuttonbox article-share-links">
    <a class="article-share-weibo" data-cmd="tsina" title="分享到新浪微博"></a>
    <a class="article-share-weixin" data-cmd="weixin" title="分享到微信"></a>
    <a class="article-share-qq" data-cmd="sqq" title="分享到QQ"></a>
    <a class="article-share-renren" data-cmd="renren" title="分享到人人网"></a>
    <a class="article-share-more" data-cmd="more" title="更多"></a>
  </div>
</div>
<script>window._bd_share_config={"common":{},"share":{"bdCustomStyle":"/css/bdshare.css"}};with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='http://bdimg.share.baidu.com/static/api/js/share.js?cdnversion='+~(-new Date()/36e5)];</script>

<!-- 百度分享 end -->

<script src="//cdnjs.cloudflare.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>



<! -- mathjax config similar to math.stackexchange -->

<script type="text/x-mathjax-config">
MathJax.Hub.Config({
tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
                processEscapes: true
                    
}
  
        });
</script>

<script type="text/x-mathjax-config">
MathJax.Hub.Config({
tex2jax: {
            skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
                  
}
    
        });
</script>

<script type="text/x-mathjax-config">
MathJax.Hub.Queue(function() {
            var all = MathJax.Hub.getAllJax(), i;
            for(i=0; i < all.length; i += 1) {
                            all[i].SourceElement().parentNode.className += ' has-jax';
                                    
            }
                
        });
</script>

<script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>


<script src="/js/script.js"></script>

</div>
</body>
</html>
