---
title: DraftSight画2D螺旋线
date: 2016-02-24 14:26:30
tags: 
- PCB 
- Python 
- DraftSight
categories: 
- 硬件
---

DraftSight是3DS公司（达索系统集团）的一套2D制图软件。类似于AutoCAD，但有免费版（Free），所以在做PCB时，经常拿来画一些外框、异形线之类的。跟AutoCAD相比，少了一些专用的命令，比如画2D螺旋线。好在DraftSight可以使用脚本编程，这样，通过样条曲线画多个线段的方法来模拟2D螺旋线。

首先要求出螺旋线上各个点的座标，用Python实现。
```
#!/usr/bin/python
# -*- coding: utf-8 -*-
import math

START_R = 24    # 起始半径
END_R = 46       # 终止半径
PIDTH = 1.2       # 两条线间距
START_A = 0      # 起始角度
POINT_PER_CYCLE = 30  # 将360度等分成多少份，份数越多，线段越多，螺旋线越接近理想情况

r = START_R        # 当前半径
a = START_A       # 当前角度
i = 0                    # 当前点

print("spline")
while r <= END_R:
    r = START_R + i * PIDTH / POINT_PER_CYCLE
    a = START_A + i * (2 * math.pi) / POINT_PER_CYCLE
    x = r * math.sin(a)
    y = r * math.cos(a)
    i = i + 1
    print("%r,%r" % (x,y))
```

将打印结果保存为luoxuan.scr, 在DraftSight->工具->运行脚本中，选择luoxuan.scr即可。
输出结果
```
spline
0.0,24.0
4.998197047258934,23.514668321640688
9.794218365265268,21.998174620033826
14.177380285294452,19.513489904323734
17.954378983533843,16.166195449630017
20.957814771583415,12.100000000000003
23.05360995499452,7.4905719436487255
24.146991619541676,2.5379510881386262
24.186772495356408,-2.542132226669329
23.16773673694994,-7.5276539829737175
21.1310198523403,-12.199999999999994
18.162459534667523,-16.35355201941049
14.388982976119745,-19.804736022298712
9.973182488218617,-22.400134621396575
5.106311126484169,-24.023305074022268
1.3937225688214031e-14,-24.6
-5.122944061749584,-24.101556882080974
-10.038260351110749,-22.54630189461939
-14.530051436669932,-19.9989001009487
-18.400265878820278,-16.567673813445335
-21.47743001385407,-12.400000000000011
-23.624243864771614,-7.675982140273697
-24.74370475676264,-2.6006681660992372
-24.783485632577374,2.6048493046299126
-23.738370646727034,7.713064179598683
-21.650635094610966,12.500000000000004
-18.608346429953947,16.755030383225815
-14.74165412749523,20.290146218923677
-10.2172244740641,22.94826189598214
-5.231058140974816,24.61019363446255
-2.855431604414582e-14,25.2
.....
```

![Image](/images/2016-02-24/14-56-11.jpg)

导入到PCB中

![Image](/images/2016-02-24/14-56-29.jpg)