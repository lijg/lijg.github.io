---
title: 树莓派之呼吸灯
date: 2015-09-13 20:06:41
tags: 树莓派 Python
categories: 硬件
---

`RPi.GPIO`库中通过软件模拟在任意`GPIO`上输出`PWM`波形，由于软件运行的时间受CPU负荷的影响，所以输出精度、输出频率等不是很稳定，但用于控制LED灯的亮暗已经够用了。

电路图如下:
![Image](/images/2016-02-17/20-07-28.jpg)

`RPi.GPIO`的PWM功能示例代码如下：
```
#! /usr/bin/python

# 引入RPi.GPIO库
import RPi.GPIO as GPIO

GPIO.setmode(GPIO.BOARD)    # 使用`BOARD`编码
GPIO.setup(40, GPIO.OUT, initial=GPIO.LOW)  # 使能PIN40作为输出接口，默认输出低电平

pwm = GPIO.PWM(40, 100)     # 使能PIN40输出频率为100Hz的PWM信号
pwm.start(0)                # 启动PWM输出，初始占空比位0
pwm.ChangeDutyCycle(50)     # 输出占空比50%， 有效范围为0.0~100.0
pwm.stop()                  # 停止PWM

GPIO.cleanup()
```

[完整的例子](https://github.com/ljgabc/raspberrypi/blob/master/breath.py)