---
title: 切换界面的另一种方法
date: 2013-06-02 16:56:48
tags: 
categories: 
- Android
---

上一篇文章《用``intent``切换``activity``》学习了使用``Intent``切换``Activity``实现启动界面的一种方法。如果只是切换显示的话，还可以用``setContentView``方法。
```
public void setContentView (View view, ViewGroup.LayoutParams params)
```

Set the activity content to an explicit view. This view is placed directly into the activity's view hierarchy. It can itself be a complex view hierarchy.

**代码:**
```
package com.ljgabc.switchactivity;

import android.os.Bundle;
import android.os.Handler;
import android.app.Activity;
import android.content.Intent;
import android.view.Window;
import android.view.WindowManager;

public class SplashActivity extends Activity {

    final private int SPLASH_TIME = 2000;
    
    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        
        /*
         * 设置全屏
         */
        getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN ,      
                WindowManager.LayoutParams.FLAG_FULLSCREEN);
        
        /*
         * 设置隐藏标题栏
         */
        requestWindowFeature(Window.FEATURE_NO_TITLE);
        
        /*
         * 2秒后跳转到主界面
         */
        new Handler().postDelayed(new Runnable() {
            public void run() {
                launchMainActivity();
            }
        }, SPLASH_TIME);
        
        setContentView(R.layout.activity_splash);
    }   
    
    /*
     * 利用Intent切换到主Activity
     */
    private void launchMainActivity() {
         /*
         * 设置全屏
         */
        getWindow().setFlags(WindowManager.LayoutParams.FLAG_FORCE_NOT_FULLSCREEN ,      
                WindowManager.LayoutParams.FLAG_FORCE_NOT_FULLSCREEN);

        /*
         * 切换当前Activity的layout
         */
        setContentView(R.layout.activity_main);
    }
}
```

主要改变在``launchMainActivity()``这个函数。

**使用Intent切换Activity和使用setContentView的区别如下:**

* 前者是在不同的Activity之间切换，切换时当前Activity会被压栈;后者只有一个Activity。
* 前者如果跳转前的Activity没有退出的话，切换后的Activity结束后，前一个Activity会恢复显示，常见的就是通过返回键返回上一个界面；后者由于只有一个Activity，不能通过返回键返回，返回键会结束当前Activity，所有的界面都结束了。
