---
title: Linux基本操作
date: 2015-04-16 21:21:04
tags:
categories: 
- Linux
---

最近做了一个Linux基本命令分享交流活动。之后将PPT总结整理了一下，记录在此。

---

### 查找帮助

> man 命令

```
man find
```

---

### 目录结构
![目录结构](/images/2016-02-17/18-16-22.jpg)


---

### 绝对路径、相对路径

> 绝对路径：路径的写法一定由根目录`/`写起，例如`/usr/local/mysql`，这就是绝对路径。

> 相对路径：路径的写法不是由根目录`/`写起，例如，用户当前在`/usr`目录下,要进入`/usr/local/mysql`，只需要`cd local/mysql`即可。这里用的就是相对路径。

有两个特殊的相对路径，`.`和`..`。
```
.   指当前目录，例如cd local/mysql，等于cd ./local/mysql
..  指当前目录的上级目录
```

---

### 当前路径

```
名称
    pwd - 打印用户当前所在路径

用法
    pwd [选项]

说明
    -P  如果目录是链接的话，显示为真正目录
```

---

### 切换路径

```
名称
    cd - 切换当前路径

用法
    cd  [目录]

说明
    -P  如果目录是链接的话，显示为真正目录
```

---

### 常用命令

1. ls
2. rm
3. cp
4. mv
5. chmod
6. mkdir
7. find
8. grep
9. tar
10. cat

-- -

### ls

```
名称
    ls - 查看目录内容

用法
    ls [选项] [文件/目录]

说明
    列出[文件/目录]包含哪些文件（如果是文件，只列出文件名）；
    如果不指定[文件/目录]，则默认列出当前文件夹中的文件；
       
选项
    -a  显示隐藏文件

    -A  与-a类似，比-a少了`.`和`..`两个文件

    -h  必须和-l一起使用，打印文件大小时使用(KB,MB,GB)

    -l  列出文件的详细信息(权限、所有者、组、大小、最后修改时间等)
```

### ls的例子

```
ls          列出当前目录文件
ls /home    列出/home目录下的文件
ls -l       列出当前目录的详细文件列表
ls -la      列出当前目录的详细文件列表，包含隐藏文件
```

---

### rm

```
名称
    rm - 删除文件或文件夹

用法
    rm [选项] 文件/文件夹

说明
    rm用来删除指定文件。默认情况下不能删除文件夹。

选项
    -f  强制删除（不警告、不报错）

    -i  删除前让用户确认是否删除

    -r, -R
        删除文件夹及其内容
```

### rm的例子
``` 
rm a.txt    删除a.txt
rm -i a.txt 删除a.txt,删除之前先确认
rm -f a.txt 强制删除a.txt,即使a.txt不存在也不报错
rm -rf abc  删除abc文件夹及其文件
```

---

### cp
```
名称
    cp - 拷贝文件/目录

用法
    cp [选项] 源文件 目的文件

说明
    将`源文件`拷贝到`目的文件`。默认不能拷贝文件夹。

选项
    -r  拷贝文件夹。
```

###  cp的例子
```
cp a.txt abc/b.txt
cp -r abc def
```

---

## mv
```
名称
    mv - 移动/重命名 文件/目录

用法
    mv [选项] 源文件/目录  目的文件/目录

说明
    将`源文件/目录`重命名为`新文件/目录`，
    如果源文件和目的文件不在同一个目录，则相当于剪切

选项
    -f  如果目的地址已经存在文件，则直接覆盖而不提示

    -i  覆盖之前先要求用户确认

    -n  不覆盖已有文件
    如果同时指定多个以上3个选项，以最后一个为准。
```

### mv的例子
```
mv a.txt b.txt
mv a.txt abc/a.txt
mv a.txt abc/
```

---

### chmod

```
名称
    chmod - 修改文件/目录的属性

用法
    chmod [选项]  模式  文件/目录

说明
    将文件/目录的属性设置为指定的模式。如果是目录的话，
    默认只改变该目录权限，而目录中的文件权限不变。
       
选项
    -R  改变文件夹及其子目录中的文件权限。
              
模式
    文件权限表示  
```

### 文件权限

* Linux中一个文件的权限分为u(所有者)、g(所在组权限)、o(其他人)三部分权限。
* 每部分权限又包含r(读)、w(写)、x(执行)的权限。
* 通过`ls -l`查看一个文件时，其权限信息表示如下
```
-rwxrw-r-- 1 lijg lijg 0 3月 13 18:53 a.txt
```
  第一个字符'-'代表该文件是一个普通文件。接下来的9个字符分别表示u(所有者)、g(所在组权限)、o(其他人)的权限。       
  每三个字符可以用一个8进制数表示,如果该位有权限为1,无则为0.因此，a.txt的权限还可以表示为764。

### chmod的例子
```
chmod u+rwx a.txt
chmod g-r a.txt
chmod o+x a.txt
chmod a+rwx a.txt (a代表所有人)
     
chmod 777 a.txt (rwxrwxrwx)
chmod 760 a.txt (rwxrw----)
```
---

### mkdir
```
名称
    mkdir - 创建目录

用法
    mkdir [选项]  目录

说明
    创建目录(如果不存在的话)。

选项
    -p  如果创建的目录的父目录不存在的话，一起创建。
```


### mkdir的例子
```
mkdir abc
mkdir -p abc/def/ghi
```
---

### find
```
名称
    find - 搜索文件并执行对应的动作（默认动作是打印出文件名）

用法
    find [选项] [路径] [表达式]

说明
    在给定路径中搜索与表达式匹配的文件。
```


### find的例子
```
find . -name "*.cpp"
在当前目录下搜索所有以.cpp结尾的文件并打印到屏幕上

find . -name "*.cpp" -print
与上条命令效果一样

find . -name "*.cpp" -o -name "*.h"
在当前目录下搜索所有以.cpp结尾或以.h结尾的文件
        
find . -name "*.tmp" -exec rm -rf {} \;
删除当前目录下所有以.tmp结尾的文件
```

---

### grep
```
名称
    grep, egrep, fgrep, rgrep - 在文件中查找匹配的内容

用法
    grep [选项] 正则表达式 [文件]

说明
    grep 在给定的文件中(如果没有给定，则从标准输入中)
    搜索与给定的表达式匹配的行。默认情况下将匹配的行打印到屏幕上。

选项
    -i  匹配时忽略大小写。
    -H  打印时包含对应的文件名。
```

### grep的例子
```
grep -i 'abc' a.txt

更多情况是与find一起使用，在多个文件中查找指定的内容。
如，忘记变量nCount在哪个文件中定义的

find . -name *.cpp -exec grep -H 'nCount' {} \;
或
find . -name *.cpp | xargs grep -H 'nCount' {} \;

打印出所有包含nCount的文件
```

---
### tar
```
名称
    tar — 压缩、解压缩工具

用法
    tar [选项] [文件名] [文件名] ...

说明
    将文件压缩成压缩包或解压缩压缩包。
```


### tar的例子
```
tar xvf abc.tar
tar xvf abc.tar.gz
tar xvf abc.tar.bz2
tar xvf abc.tar.bz2 -C /home/lijg/abc

tar cvf abc.tar abc def ghi 
将abc def ghi三个文件/目录打包成abc.tar
```

---

### cat
```
名称
    cat - 显示文件内容

用法
    cat [选项]    文件

说明
    显示文件内容。
       
    如, cat a.txt
```

---

### 环境变量PATH

PATH变量是linux搜索命令的一些目录集合，只有命令所在目录处于PATH变量中时，才可以直接输入执行。
PATH变量以冒号`:`分割.

查看PATH变量， 
```
echo $PATH
```

设置PATH环境变量：
```
bash:   export PATH=$PATH:/path/to/your/folder
csh:    set path="$PATH":/path/to/your/folder
```

---

### umask
mask变量用来设置创建新文件时的默认属性(权限)
```
lijg@linux:~$ umask
0022

lijg@linux:~$ touch abcd && ls -l abcd
-rw-r--r-- 1 lijg lijg 0  3月 13 15:40 abcd

lijg@linux:~$ umask 077

lijg@linux:~$ umask
0077

lijg@linux:~$ touch abcd && ls -l abcd && rm abcd
-rw------- 1 lijg lijg 0  3月 13 15:42 abcd
```

---

### alias
alias 用于给命令设置别名
```
lijg@linux:~$ alias lll='ls -l'

lijg@linux:~$ lll
total 24
drwxr-xr-x  2 lijg lijg  4096  3月 13 15:44 ./
drwxr-xr-x 59 lijg lijg 12288  3月 13 15:43 ../
-rw-r--r--  1 lijg lijg     4  3月 13 15:18 a.cpp
-rw-r--r--  1 lijg lijg     3  3月 13 15:18 a.h
```


---

### Q & A

Thansk